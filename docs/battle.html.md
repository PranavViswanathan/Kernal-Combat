# battle.html Documentation

## Overview
`battle.html` is the visual culmination of the "Pair Battle Mode". It takes the results of two players' code submissions and turns them into an animated, Pokemon-style battle.

## Dependencies
- **`app.js`**: Provides `simulateBattle` and `generatePlayerSprite` functions.
- **`styles.css`**: Provides the arena layout and animations.

## Key Features

### 1. Battle Setup
- **Data Source**: Reads `battleData` from `localStorage`, which contains the code metrics for both players.
- **Initialization**: `loadBattleData()`
    - Populates player names and stats (Score, Complexity, Lines, Time).
    - Generates sprites: Winners get "cool" animals (e.g., üêâ), losers get "weak" animals (e.g., üêå).

### 2. Simulation
- **Logic**: Calls `simulateBattle()` from `app.js`.
- **Mechanics**:
    - **HP**: Starts at 1000.
    - **Attack**: Based on code score.
    - **Defense**: Bonus for O(1) space complexity.

### 3. Animation
- **Function**: `animateBattle()`
    - Iterates through the battle log generated by the simulation.
    - **Typing Effect**: Displays one log message at a time.
    - **Health Bars**: Updates width dynamically as damage is dealt.
    - **Scroll**: Auto-scrolls the log to keep the latest action visible.

### 4. Outcome
- **Winner**: Declared when one player's HP drops to zero (or turns run out).
- **Stats**: Updates the winner's "Battles Won" count in `kernalcombat_user`.
- **Navigation**: Options to start a new battle or return home.

## UI Structure
- **Arena**: Two player cards facing each other with a "VS" badge.
- **Player Card**: Sprite, Name, Health Bar, and Stats Table.
- **Battle Log**: Terminal-style output area for the fight commentary.
